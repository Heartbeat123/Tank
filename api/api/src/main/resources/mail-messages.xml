<?xml version="1.0" encoding="UTF-8"?>

<mail-messages>
<!-- 
available variables are:

jobName - the name of the job.
projectName - the name of the project
projectId - the id of the project
eventTime - the time of the event
startTime - the time the job started
endTime - the time the job completed
loadStartTime - the time load actually started
predictedEndTime - the time the job should be completed (startTime + duration + ramp)
ramp = the duration of the ramp
duration - the duration of the test
actualDuration - the actual amount of time the test ran
steadyStateStart - when steady state should have been achieved (start time + ramp)
steadyStateEnd - when steady state should have ended and users should be ramping down (startTime + duration)
numUsers - number of users by region
terminationPolicy - wither scripts complete or simulation time
timingDataUrl - the url to the timing data csv
summaryDataUrl - the url to the summary data csv
scriptInfo - the script group and script data including the loop count
variables - the variables set during the run
location - the location value for the test
loggingProfile - the logging level of the agent
validationFailures - the number of validation failures
dataFiles - the datafiles used in the job
tankBaseUrl - the baseUrl of the tank instance generating the message


Events:

QUEUE_ADD("Job Added To Queue"),
JOB_STARTED("Job Started"),
JOB_STOPPED("Job Stopped"),
JOB_PAUSED("Job Paused"),
JOB_RESUMED("Job Resumed"),
JOB_KILLED("Job Killed"),
JOB_FINISHED("Job Finished"),
SUMMARY_REPORT_FINISHED("Summary Ready"),

LOAD_STARTED("Load Started"),

AGENT_STARTED("Agents Started"),
AGENT_REPORTED("Agents Ready"),
AGENT_REBOOTED("Agents Rebooted"),
AGENT_RESTARTED("Agents Restarted"),

RAMP_PAUSED("Ramp Paused"),
RAMP_RESUMED("Ramp Resumed")

 -->
 <!-- styles can be used in mail messages. -->
  <css-style>
    <![CDATA[
    table {
        padding: 5px;
    }
    tr {
        padding: 5px;
    }
    .label {
        font-weight: bold;
        padding-right: 4px;
    }
    .value {
        padding-left: 4px;
    }
    .details {
        border: 1px solid black;
        background-color: lightBlue;
        margin-left: 10px;
    }
    .footer {
        margin-top:25px;
    }
    
    ]]>
  </css-style>
  
  <footer>
  <![CDATA[<p class="footer">This message automatically generated by Intuit Tank (<a href="{tankBaseUrl}">{tankBaseUrl}</a>). </p>]]>
  </footer>

  <message event="default">
    <subject>Event {eventName} for Job {jobName}</subject>
    <body>
  <![CDATA[<p>The event {eventName} for Job {jobName} at {eventTime}.</p>
  <p>Details:
  <table class="details">
    <tr><td class="label">Project: </td><td class="value">{projectName} (id {projectId})</td></tr>
    <tr><td class="label">Location: </td><td class="value">{location}</td></tr>
    <tr><td class="label">Logging Profile: </td><td class="value">{loggingProfile}</td></tr>
    <tr><td class="label">Termination Policy:</td><td class="value">{terminationPolicy}</td></tr>
    <tr><td class="label">Start Time: </td><td class="value">{startTime}</td></tr>
    <tr><td class="label">End Time: </td><td class="value">{endTime}</td></tr>
    <tr><td class="label">Load Start Time: </td><td class="value">{loadStartTime}</td></tr>
    <tr><td class="label">Users: </td><td class="value">{numUsers}</td></tr>
    <tr><td class="label">Ramp: </td><td class="value">{ramp}</td></tr>
    <tr><td class="label">Simulation Time: </td><td class="value">{duration}</td></tr>
    <tr><td class="label">Predicted End: </td><td class="value">{predictedEndTime}</td></tr>
    <tr><td class="label">Steady State: </td><td class="value">{steadyStateStart} - {steadyStateEnd}</td></tr>
    <tr><td class="label">Scripts: </td><td class="value">{scriptInfo}</td></tr>
    <tr><td class="label">Variables: </td><td class="value">{variables}</td></tr>
    <tr><td class="label">Data files: </td><td class="value">{dataFiles}</td></tr>
   </table>
  </p>]]>
    </body>
  </message>


  <message event="QUEUE_ADD">
    <subject>Job {jobName} Added to Queue</subject>
    <body>
       <![CDATA[<p>The Job {jobName} for Project {projectName} was added to the job queue at {eventTime}.</p>
       <p>Details:
         <table class="details">
          <tr><td class="label">Project: </td><td class="value">{projectName} (id {projectId})</td></tr>
          <tr><td class="label">Location: </td><td class="value">{location}</td></tr>
          <tr><td class="label">Logging Profile: </td><td class="value">{loggingProfile}</td></tr>
          <tr><td class="label">Termination Policy:</td><td class="value">{terminationPolicy}</td></tr>
          <tr><td class="label">Users: </td><td class="value">{numUsers}</td></tr>
          <tr><td class="label">Ramp: </td><td class="value">{ramp}</td></tr>
          <tr><td class="label">Simulation Time: </td><td class="value">{duration}</td></tr>
          <tr><td class="label">Scripts: </td><td class="value">{scriptInfo}</td></tr>
          <tr><td class="label">Variables: </td><td class="value">{variables}</td></tr>
          <tr><td class="label">Data files: </td><td class="value">{dataFiles}</td></tr>
         </table>
       </p>]]>
    </body>
  </message>

  <message event="JOB_STARTED">
    <subject>Job {jobName} has been Started</subject>
    <body>
       <![CDATA[<p>The Job {jobName} for Project {projectName} was started {eventTime}.</p>
       <p>Details:
         <table class="details">
          <tr><td class="label">Project: </td><td class="value">{projectName} (id {projectId})</td></tr>
          <tr><td class="label">Location: </td><td class="value">{location}</td></tr>
          <tr><td class="label">Logging Profile: </td><td class="value">{loggingProfile}</td></tr>
          <tr><td class="label">Termination Policy:</td><td class="value">{terminationPolicy}</td></tr>
          <tr><td class="label">Users: </td><td class="value">{numUsers}</td></tr>
          <tr><td class="label">Ramp: </td><td class="value">{ramp}</td></tr>
          <tr><td class="label">Simulation Time: </td><td class="value">{duration}</td></tr>
          <tr><td class="label">Predicted End: </td><td class="value">{predictedEndTime}</td></tr>
          <tr><td class="label">Steady State: </td><td class="value">{steadyStateStart} - {steadyStateEnd}</td></tr>
          <tr><td class="label">Scripts: </td><td class="value">{scriptInfo}</td></tr>
          <tr><td class="label">Variables: </td><td class="value">{variables}</td></tr>
          <tr><td class="label">Data files: </td><td class="value">{dataFiles}</td></tr>
         </table>
       </p>
       ]]>
    </body>
  </message>
  <message event="LOAD_STARTED">
    <subject>Load for Job {jobName} has Started</subject>
    <body>
       <![CDATA[<p>Load for Job {jobName} for Project {projectName} started {eventTime}.</p>
       <p>Details:
         <table class="details">
          <tr><td class="label">Project: </td><td class="value">{projectName} (id {projectId})</td></tr>
          <tr><td class="label">Location: </td><td class="value">{location}</td></tr>
          <tr><td class="label">Logging Profile: </td><td class="value">{loggingProfile}</td></tr>
          <tr><td class="label">Termination Policy:</td><td class="value">{terminationPolicy}</td></tr>
          <tr><td class="label">Start Time: </td><td class="value">{startTime}</td></tr>
          <tr><td class="label">Load Start Time: </td><td class="value">{loadStartTime}</td></tr>
          <tr><td class="label">Users: </td><td class="value">{numUsers}</td></tr>
          <tr><td class="label">Ramp: </td><td class="value">{ramp}</td></tr>
          <tr><td class="label">Simulation Time: </td><td class="value">{duration}</td></tr>
          <tr><td class="label">Predicted End: </td><td class="value">{predictedEndTime}</td></tr>
          <tr><td class="label">Steady State: </td><td class="value">{steadyStateStart} - {steadyStateEnd}</td></tr>
          <tr><td class="label">Scripts: </td><td class="value">{scriptInfo}</td></tr>
          <tr><td class="label">Variables: </td><td class="value">{variables}</td></tr>
          <tr><td class="label">Data files: </td><td class="value">{dataFiles}</td></tr>
         </table>
       </p>
       ]]>
    </body>
  </message>
  <message event="JOB_FINISHED">
    <subject>Job {jobName} has Finished</subject>
    <body>
       <![CDATA[<p>The Job {jobName} for Project {projectName} was finished {endTime}.</p>
       <p>Details:
         <table class="details">
          <tr><td class="label">Project: </td><td class="value">{projectName} (id {projectId})</td></tr>
          <tr><td class="label">Location: </td><td class="value">{location}</td></tr>
          <tr><td class="label">Logging Profile: </td><td class="value">{loggingProfile}</td></tr>
          <tr><td class="label">Termination Policy:</td><td class="value">{terminationPolicy}</td></tr>
          <tr><td class="label">Start Time: </td><td class="value">{startTime}</td></tr>
          <tr><td class="label">End Time: </td><td class="value">{endTime}</td></tr>
          <tr><td class="label">Load Start Time: </td><td class="value">{loadStartTime}</td></tr>
          <tr><td class="label">Users: </td><td class="value">{numUsers}</td></tr>
          <tr><td class="label">Ramp: </td><td class="value">{ramp}</td></tr>
          <tr><td class="label">Simulation Time: </td><td class="value">{duration}</td></tr>
          <tr><td class="label">Actual Duration: </td><td class="value">{actualDuration}</td></tr>
          <tr><td class="label">Steady State: </td><td class="value">{steadyStateStart} - {steadyStateEnd}</td></tr>
          <tr><td class="label">Scripts: </td><td class="value">{scriptInfo}</td></tr>
          <tr><td class="label">Variables: </td><td class="value">{variables}</td></tr>
          <tr><td class="label">Data files: </td><td class="value">{dataFiles}</td></tr>
          <tr><td class="label">Validation Errors: </td><td class="value">{validationFailures}</td></tr>
         </table>
       </p>
       <p>Full Timing results can be located at {timingDataUrl}
       ]]>
    </body>
  </message>
  
  <message event="SUMMARY_REPORT_FINISHED">
    <subject>Summary Report Available for Job {jobName}</subject>
    <body>
       <![CDATA[<p>The Job {jobName} for Project {projectName} was started {eventTime}.</p>
       <p>Details:
         <table class="details">
          <tr><td class="label">Project: </td><td class="value">{projectName} (id {projectId})</td></tr>
          <tr><td class="label">Location: </td><td class="value">{location}</td></tr>
          <tr><td class="label">Logging Profile: </td><td class="value">{loggingProfile}</td></tr>
          <tr><td class="label">Termination Policy:</td><td class="value">{terminationPolicy}</td></tr>
          <tr><td class="label">Start Time: </td><td class="value">{startTime}</td></tr>
          <tr><td class="label">End Time: </td><td class="value">{endTime}</td></tr>
          <tr><td class="label">Load Start Time: </td><td class="value">{loadStartTime}</td></tr>
          <tr><td class="label">Users: </td><td class="value">{numUsers}</td></tr>
          <tr><td class="label">Ramp: </td><td class="value">{ramp}</td></tr>
          <tr><td class="label">Simulation Time: </td><td class="value">{duration}</td></tr>
          <tr><td class="label">Actual Duration: </td><td class="value">{actualDuration}</td></tr>
          <tr><td class="label">Steady State: </td><td class="value">{steadyStateStart} - {steadyStateEnd}</td></tr>
          <tr><td class="label">Scripts: </td><td class="value">{scriptInfo}</td></tr>
          <tr><td class="label">Variables: </td><td class="value">{variables}</td></tr>
          <tr><td class="label">Data files: </td><td class="value">{dataFiles}</td></tr>
          <tr><td class="label">Validation Errors: </td><td class="value">{validationFailures}</td></tr>
         </table>
       </p>
       <p>Summary Timing results can be viewed and downloaded at {summaryDataUrl}
       ]]>
    </body>
  </message>

</mail-messages>