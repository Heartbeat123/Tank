<?xml version="1.0" encoding="UTF-8"?>


<chapter id="filter">
  <title>Filters and Filter Groups</title>
  <para>Filters are enhancements made to a pre-recorded script, which allow the script to behave more like a real user.
    Filters enable the script to be more dynamic, where it can behave a certain way when certain conditions are met.
    Filters can add functions, thinktime, and change script behavior, etc. ‘Filter Groups’ are created to contain
    multiple filters that are unique to that group. For eg: A ‘TTO Production’ group, will have only filters that are
    unique to that type of user.</para>
  <para>When uploading a script, you will be given the option to choose the filters and groups you want to process the
    script with.
    Selecting a group will select all the filters associated with that group will automatically be selected,
    you may choose to
    remove those not required.</para>

  <para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/filters/filters_1.png" format="PNG" align="Center" />
      </imageobject>
    </mediaobject>
  </para>

  <section>
    <title>Creating a Filter</title>
    <orderedlist>
      <listitem>
        Click on the
        <code>New Filter</code>
        icon to open the New Script Filter form.
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/filters/filters_2.png" format="PNG" align="Center" />
          </imageobject>
        </mediaobject>
      </listitem>
      <listitem>
        A filter can be internal or external (javascript). Select type on the radio button and the form will change
        depending on the mode.
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/filters/filters_3.png" format="PNG" align="Center" />
          </imageobject>
        </mediaobject>
        <section>
          <title>Internal Filters</title>
          <orderedlist>
            <listitem>
              Internal filters consist of one of more
              <code>Conditions</code>
              and one or more
              <code>Actions</code>
              . Conditions determine if this filter matches a particular request and Actions defile the transformation to
              apply when the conditions match.
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/filters/filters_4.png" format="PNG" align="Center" />
                </imageobject>
              </mediaobject>
            </listitem>
      
            <listitem>
              Set the Name, Product and whether the conditions are match all or match any.
              Click on
              <code>Add Condition</code>
              and
              <code>Add Action</code>
              and set the properties appropriately.
              <note>
                <para>The above filter shows a filter that removes all requests that contain doubleclick.</para>
              </note>
            </listitem>
          </orderedlist>
        </section>
        <section>
          <title>External Filters</title>
          <orderedlist>
            <listitem>
              External filters consist of a reference to an external javascript file.
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/filters/filters_5.png" format="PNG" align="Center" />
                </imageobject>
              </mediaobject>
            </listitem>
      
            <listitem>
              Set the Name, Product and Script.
            </listitem>
          </orderedlist>
        </section>
      </listitem>
    </orderedlist>
  </section>

  <section>
    <title>Creating a Filter Group</title>
    <orderedlist>
      <listitem>
        Click on the
        <code>New Filter Group</code>
        icon to open the Filter Group selection form.
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/filters/filters_6.png" format="PNG" align="Center" />
          </imageobject>
        </mediaobject>
      </listitem>
      <listitem>
        Give the Filter Group a unique name, select the Product, and select from the list of filters that belong to that
        group.
      </listitem>

    </orderedlist>

  </section>

</chapter>
